# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

В данном проекте, качестве паттерна проектирования я выбираю MVP, то есть Model, View, Presenter. 

Для приложения важна масштабируемость и разделение ответственности и другие принципы ООП, 
поэтому логику проекта, рамках паттерна MVP, 
прописывают в слое Model, то что видно пользователю , 
или UI, прописывают в слое View. 
Логику соединения этих слоев выполняет Presenter. 

Типы данных проекта, базовый код, описываю в файле src/types/index.ts

Там описаны интерфейсы для данных и отображения.


## Базовый код.


### 1. Класс Card<T>

находится практически во всех частях проекта, реализует метода работы с карточкой товара.

Класс является дженериком, принимает в переменной T, тип данных в карточке товара. 

Конструктор принимает аргументы:

1. Массив данных о товаре

Какие имеет методы:

get, set, render - для получения данных, отправки данных и передачи их для отображения.

1. Класс EventEmitter

Реализует паттерн “Наблюдатель”, чтобы уведомлять пользователя о происходящих событиях.

Имеет методы on, off, emit - для подписки на событие, отписки от него и для уведомления о событии.

## Компоненты модели данных (бизнес-логика)

### 1. Класс Model<T>

Принимает данные с сервера, хранит, изменяет, отправляет. Получает их через класс Api. Передает данные в отображение через презентер.

Принимает события.

## Компоненты представления.

### 1. Класс CardUI

выводит html разметку на экран, отображает данные о карточке. На карточку можно кликнуть для добавления товара в корзину. 

### 2. Класс GalleryUI 

отображает массив карточек. Позволяет выделить одну из карточек, кликом.

### 3. Класс PageUI

Представляет собой общую страницу со всеми элементами. При клике на элемент, происходит переход на корзину, или карточку товара.

### 4. Класс BasketUI 

реализует корзину с покупками. Принимает массив карточек, отображает общую сумму покупок, с возможностью продолжить и перейти на следующую стадию и с возможностью удалить товар из списка.

### 5. Класс ModalUI

Реализует всплывающее окно, которое присутствуют почти на всех этапах приложения. Является оберткой, например, для этапа корзины и способа оплаты. Отрабатывает методы открытия и закрытия окна, которые наследуются другими классами, в которых используются данные окна.

### 6. Класс SuccessUI

Отображает финальное окно, с поздравлениями о завершении процесса. 

Показывает количество списанных средств. Позволяет закрыть окно, для повторения цикла покупок.

### 7. Класс OrderUI и ContactsUI 

Реализует внешний вид заказа, с возможностью перейти на следующий этап. 

Все классы принимают в конструктор элемент разметки и событие.

## Ключевые типы данных

```
type HTMLElement = string; // элемент разметки
type string = string; // данные о товаре в виде строки
type number = number; // данные о товаре в виде числа
type boolean = boollean; // отображение состояния
type OrderStatus = 'wait' | 'active' | 'closed'; // состояние заказа
```

## События в приложении

```
enum Events {
	OVERR_CARD = 'ui:over-card' // навести на карточку
	OVER_BASKET = 'ui:over-basket' // навести на корзину
	CLICK_CARD = 'ui:click-card' // кликнуть крточку
	CLICK_BASKET = 'ui:click-basket' // кликнуть корзину
	CLICK_BUTTON = 'ui:click-button' // кликнуть кнопку
	CLICK_CROSS = 'ui:click-cross' // кликнуть - закрыть окно, крестик
	CLICK_OVERLAY = 'ui:click-overlay' // кликнуть по оверлею, чтобы закрыть окно
	READY = 'buy:ready' // данные введены в форму
	WAIT = 'buy:wait' // ожидание заказа
	ACTIVE = 'buy:active' // состояние заказа {active}
	SUCCESS = 'buy:closed' // покупки совершены {success}
}; 
```

## Описание слоев.

Когда получаем данные с сервера через класс Api, они попадают в класс модели, где хранятся и изменяются. 

Для отображения, данные из модели передаются через презентер в классы представления.

Данные получаемые с сервера можем увидеть в коллекции Postman.

Это карточка товара с id, описанием, картинкой, заголовком, категорией, ценой.

Код слоя Model и View выделены в классы, 

слой Presenter

код презентера не выделяется в отдельный класс и будет в дальнейшем размещен в src/types/index.ts


### Автор Зуев Сергей

   